---
import BaseHead from "@/components/BaseHead.astro";
import SkipLink from "@/components/SkipLink.astro";
import ThemeProvider from "@/components/ThemeProvider.astro";
import Footer from "@/components/layout/Footer.astro";
import Header from "@/components/layout/Header.astro";
import { siteConfig } from "@/site.config";
import type { SiteMeta } from "@/types";

interface Props {
	meta: SiteMeta;
}

const {
	meta: { articleDate, description = siteConfig.description, ogImage, title },
} = Astro.props;
---

<html class="scroll-smooth" lang={siteConfig.lang}>
	<head>
		<BaseHead articleDate={articleDate} description={description} ogImage={ogImage} title={title} />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"
		/></head
	>
	<!-- 修改 max-w-6xl 最大宽度-->
	<body
		class="mx-auto flex min-h-screen max-w-4xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8"
	>
		<ThemeProvider />
		<SkipLink />
		<Header />
		<main id="main">
			<slot />
		</main>
		<Footer />

		<!--APlayer-->
		<div id="aplayer"></div>
		<script>
			// 动态导入 APlayer
			import((`aplayer/dist/APlayer.min.js`)).then((APlayer) => {
				import('aplayer/dist/APlayer.min.css');

				new APlayer.default({
					container: document.getElementById('aplayer'),
					fixed: true,
					audio: [{
						name: 'ツキカゲ',
						artist: 'esoragoto',
						url: 'music/001.sF4yuzEnJeM.m4a',
						cover: 'https://i.scdn.co/image/ab67616d00001e020f6fa22cd67985ed99dd9633',
					}]
				});
			});
		</script>

    <!--ChunCai 项目地址:https://github.com/shalldie/chuncai-->
    <script>
      import chuncai from 'chuncai';
      const opt = {
        menu: {
          $title: '菜单',
          '摸摸': '摸摸摸模摸摸摸摸...',
          '隐藏春菜': function () {
            chuncai.hide();
          }
        },
        words: [
          '咦你想做什么 oAo',
          'balabalabala...',
          '嘿嘿，偷偷告诉你，我今天超有元气哦！✨',
          '你在看什么呀？快来陪我玩嘛~ 😺',
          '唔...今天的天气好像在说“快去冒险”呢！',
          '你知道吗？我的梦想是成为最闪亮的二次元偶像！(*^▽^*)',
          '别盯着我看啦，我会害羞的... >_<',
          '要不要一起吃个甜甜圈？甜甜的心情最棒啦！🍩',
          '哼哼，我可是宇宙无敌可爱的ChunCai哟！',
          '喂喂，你今天有好好努力吗？要加油哦！💪'
        ]
      };

      chuncai.init(opt);
    </script>

	</body>
</html>
